webpackJsonp([1],{"/gb/":function(t,e){},LiQ1:function(t,e){},MCE1:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("7+uW"),a=(n("/ocq"),n("Gu7T")),r=n.n(a),o=n("mvHQ"),s=n.n(o),l={name:"",directives:{Clickoutside:n("rdhm").a},components:{},props:{},data:function(){return{isDropdown:!1,dayList:[],listArray:["08:00~09:00","09:00~10:00","10:00~11:00","11:00~12:00","12:00~13:00","13:00~14:00","14:00~15:00","15:00~16:00","16:00~17:00","17:00~18:00","18:00~19:00","19:00~19:30"],timeToList:{},timeValue:"今天",clickValue:"一小时内",clickDay:"今天",time:""}},created:function(){},watch:{},computed:{},mounted:function(){this.initial(),this.setTime(),this.getDay(),this.getTimeToList()},methods:{initial:function(){var t=this.getMinute(),e=this.getHours();return e<9?(this.clickValue="08:00~09:00",void(this.clickDay="今天")):e>=19&&t>30?(this.clickValue="08:00~09:00",void(this.clickDay="明天")):void 0},getTimeToList:function(){var t=this;this.dayList.forEach(function(e){var n=JSON.parse(s()(t.listArray));"今天"===e.lable&&(n=t.getTodayList(n)),t.timeToList[e.lable]=t.transTime(n,e.lable)})},openDown:function(){this.isDropdown=!0},clickoutside:function(t){t||(this.isDropdown=!1,this.timeValue=this.clickDay)},dayChange:function(t){this.timeValue=t.lable},timeChange:function(t){this.clickValue=t.lable,this.clickDay=t.day,this.setTime()},setTime:function(){this.time=this.clickDay+" "+this.clickValue,this.$emit("setTime",this.time)},formatDate:function(t){return t.getFullYear()+"-"+String(t.getMonth()+1).padStart(2,"0")+"-"+String(t.getDate()).padStart(2,"0")},getDay:function(){var t=new Date,e=new Date(t);e.setDate(e.getDate()+1);var n=new Date(t);n.setDate(n.getDate()+2);var i=[this.formatDate(t),this.formatDate(e),this.formatDate(n)];this.dayList=["今天","明天","后天"].map(function(t,e){return{lable:t,ymd:i[e]}})},transTime:function(t,e){var n=[];return t.forEach(function(t){n.push({lable:t,day:e})}),n},getHours:function(){return(new Date).getHours()},getMinute:function(){return(new Date).getMinutes()},getTodayList:function(t){var e=this.getMinute(),n=this.getHours();return n<8?t:n>=19&&e>30?[]:(t=t.slice(n-7),t=["一小时内"].concat(r()(t)))}},beforeDestroy:function(){}},c={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.clickoutside,expression:"clickoutside"}],staticClass:"time-picker",on:{click:t.openDown}},[t._m(0),t._v(" "),n("div",{staticClass:"content-first"},[n("div",[t._v("\n            "+t._s(t.time)+"\n        ")]),t._v(" "),n("i",{staticClass:"el-icon-s-order"})]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isDropdown,expression:"isDropdown"}],staticClass:"dropdown"},[n("div",{staticClass:"time"},t._l(t.dayList,function(e){return n("div",{staticClass:"item",class:t.timeValue==e.lable?"active":"",on:{click:function(n){return t.dayChange(e)}}},[n("div",[t._v(t._s(e.lable))]),t._v(" "),n("div",[t._v(t._s(e.ymd))])])}),0),t._v(" "),n("div",{staticClass:"timeList"},t._l(t.timeToList[t.timeValue],function(e){return n("div",{staticClass:"timeBox",class:t.clickDay==e.day&&t.clickValue==e.lable?"active":"",on:{click:function(n){return t.timeChange(e)}}},[t._v("\n                "+t._s(e.lable)+"\n            ")])}),0)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"content-first"},[e("div",{staticClass:"redSpan"},[this._v("*")]),this._v(" "),e("div",[this._v("期望上门时间")])])}]};var u=n("VU/8")(l,c,!1,function(t){n("LiQ1")},"data-v-46d67f52",null).exports,m={name:"addForm",components:{},data:function(){return{dataList:[],rules:{chineseName:[{required:!0,message:"请输入英文名称",trigger:"blur"},{pattern:/^[\u4e00-\u9fa5]+$/,message:"只能输入中文",trigger:"blur"}],englishName:[{required:!0,message:"请输入英文名称",trigger:"blur"},{pattern:/^[a-zA-Z]+$/,message:"只能输入英文",trigger:"blur"}]}}},props:{},created:function(){},watch:{},computed:{},mounted:function(){},methods:{addText:function(){this.dataList.push({chineseName:"",englishName:""})},deleteText:function(){this.dataList.pop()},submitForms:function(){var t=this,e=[],n=!0;this.dataList.forEach(function(i,a){t.$refs["form"+a][0].validate(function(t){t||(n=!1)}),e.push(t.$refs["form"+a][0].model)}),n?console.log(e):console.log("表单验证失败")}},beforeDestroy:function(){}},d={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-button",{staticStyle:{margin:"15px 0"},on:{click:t.addText}},[t._v("添加补充字段")]),t._v(" "),t._l(t.dataList,function(e,i){return n("div",[i==t.dataList.length-1?n("el-button",{staticStyle:{"margin-bottom":"15px"},attrs:{type:"danger"},on:{click:t.deleteText}},[t._v("删除字段")]):t._e(),t._v(" "),n("el-form",{key:i,ref:"form"+i,refInFor:!0,attrs:{model:e,rules:t.rules,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"中文名称",prop:"chineseName"}},[n("el-input",{model:{value:e.chineseName,callback:function(n){t.$set(e,"chineseName",n)},expression:"item.chineseName"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"英文名称",prop:"englishName"}},[n("el-input",{model:{value:e.englishName,callback:function(n){t.$set(e,"englishName",n)},expression:"item.englishName"}})],1)],1)],1)}),t._v(" "),0!=t.dataList.length?n("el-button",{staticStyle:{margin:"15px 0"},on:{click:t.submitForms}},[t._v("提交")]):t._e()],2)},staticRenderFns:[]};var f=n("VU/8")(m,d,!1,function(t){n("MCE1")},"data-v-6d39dab4",null).exports,p=n("BO1k"),h=n.n(p),v=n("//Fk"),g=n.n(v),_={name:"",components:{},props:{rowData:{type:Object,default:function(){}}},data:function(){return{form:{datas:[{name:"企业一",num:20},{name:"企业二",num:32}]},rules:{name:[{type:"string",required:!0,trigger:"blur",message:"请选择企业"}],num:[{type:"number",required:!0,trigger:"blur",message:"请输入下发数量"},{type:"number",trigger:"blur",min:1,max:999,message:"最小1，最大999"}]}}},created:function(){var t=this;this.form.datas.map(function(e){return t.$set(e,"action","view"),e})},watch:{},computed:{},mounted:function(){},methods:{submit:function(){var t=this;return new g.a(function(e,n){t.$refs.form.validate(function(t){t?e(t):(console.log(t),n(t))})})},validateField:function(t,e){var n=!0,i=!0,a=!1,r=void 0;try{for(var o,s=h()(this.$refs[t].fields);!(i=(o=s.next()).done);i=!0){var l=o.value;if(l.prop.split(".")[1]==e&&this.$refs[t].validateField(l.prop,function(t){""!=t&&(n=!1)}),!n)break}}catch(t){a=!0,r=t}finally{try{!i&&s.return&&s.return()}finally{if(a)throw r}}return n},resetField:function(t,e){this.$refs[t].fields.forEach(function(t){t.prop.split(".")[1]==e&&t.resetField()})},click_add:function(){this.form.datas.push({name:void 0,num:void 0,action:void 0})},click_reset:function(t,e){this.resetField("form",e)},click_save:function(t,e){this.validateField("form",e)&&(t.action="view")},click_cancle:function(t,e){this.resetField("form",e),t.action="view"},click_edit:function(t,e){t.action="edit"},click_delete:function(t,e){var n=this;this.$confirm("确定删除该条数据吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n.form.datas.splice(e,1)}).catch(function(){})}},beforeDestroy:function(){}},b={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules}},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.form.datas,"highlight-current-row":""}},[n("el-table-column",{attrs:{prop:"index",label:"序号",width:"60"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.$index+1))])]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"name",label:"企业名称"},scopedSlots:t._u([{key:"default",fn:function(e){return["view"==e.row.action?[t._v("\n                    "+t._s(e.row.name)+"\n                ")]:[n("el-form-item",{attrs:{prop:"datas."+e.$index+".name",rules:t.rules.name}},[n("el-select",{staticStyle:{width:"120px"},attrs:{size:"mini",placeholder:""},model:{value:e.row.name,callback:function(n){t.$set(e.row,"name","string"==typeof n?n.trim():n)},expression:"scope.row.name"}},[n("el-option",{attrs:{label:"企业一",value:"企业一"}}),t._v(" "),n("el-option",{attrs:{label:"企业二",value:"企业二"}})],1)],1)]]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"name",label:"数量"},scopedSlots:t._u([{key:"default",fn:function(e){return["view"==e.row.action?[t._v("\n                    "+t._s(e.row.num)+"\n                ")]:[n("el-form-item",{attrs:{prop:"datas."+e.$index+".num",rules:t.rules.num}},[n("el-input",{staticStyle:{width:"60px"},attrs:{size:"mini",placeholder:""},model:{value:e.row.num,callback:function(n){t.$set(e.row,"num",t._n(n))},expression:"scope.row.num"}})],1)]]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"operation",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return["view"==e.row.action?[n("el-button",{attrs:{size:"mini"},on:{click:function(n){return t.click_edit(e.row,e.$index)}}},[t._v("编辑")]),t._v(" "),n("el-button",{attrs:{size:"mini"},on:{click:function(n){return t.click_delete(e.row,e.$index)}}},[t._v("删除")])]:[n("el-button",{attrs:{size:"mini"},on:{click:function(n){return t.click_save(e.row,e.$index)}}},[t._v("保存")]),t._v(" "),n("el-button",{attrs:{size:"mini"},on:{click:function(n){return t.click_delete(e.row,e.$index)}}},[t._v("删除")])]]}}])})],1)],1)},staticRenderFns:[]};var k=n("VU/8")(_,b,!1,function(t){n("XkEj")},"data-v-a0fe6a06",null).exports,w={data:function(){return{formData:{},map:null,myGeo:null,ac:null}},components:{},props:{center:{type:Array,default:function(){return[108.94704,34.25943]}}},mounted:function(){this.initMap()},methods:{initMap:function(){this.map=new BMap.Map("l-map",{enableMapClick:!1}),this.map.centerAndZoom(new BMap.Point(this.center[0],this.center[1]),11),this.map.enableScrollWheelZoom(!0),this.myGeo=new BMap.Geocoder,this.initAutocomplete(),this.map.addEventListener("click",this.handleMapClick)},initAutocomplete:function(){this.ac=new BMap.Autocomplete({input:"suggestId",location:this.map}),this.ac.addEventListener("onconfirm",this.handleConfirm)},handleConfirm:function(t){var e=t.item.value,n=e.province+e.city+e.district+e.street+e.business;this.setPlace(n)},setPlace:function(t){var e=this;this.map.clearOverlays();var n=new BMap.LocalSearch(this.map,{onSearchComplete:function(){var i=n.getResults().getPoi(0).point,a={address:t,position:[i.lng,i.lat]};e.$set(e.formData,"lng",i.lng),e.$set(e.formData,"lat",i.lat),e.$emit("getValue",a),e.map.centerAndZoom(i,15),e.map.addOverlay(new BMap.Marker(i))}});n.search(t)},handleMapClick:function(t){var e=this;this.map.clearOverlays();var n=new BMap.Point(t.point.lng,t.point.lat),i=new BMap.Marker(n);this.map.addOverlay(i),this.myGeo.getLocation(n,function(n){e.$set(e.formData,"positionInfo",n.address),e.$set(e.formData,"lng",t.point.lng),e.$set(e.formData,"lat",t.point.lat);var i={address:n.address,position:[t.point.lng,t.point.lat]};e.$emit("getValue",i)})}}},y={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"baiduMap",attrs:{id:"l-map"}}),t._v(" "),n("el-form",{ref:"form",attrs:{model:t.formData}},[n("el-form-item",{attrs:{label:"位置信息",prop:"unitName"}},[n("el-input",{attrs:{placeholder:"请输入详细地址",id:"suggestId",clearable:""},model:{value:t.formData.positionInfo,callback:function(e){t.$set(t.formData,"positionInfo",e)},expression:"formData.positionInfo"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"经度",prop:"lng"}},[n("el-input",{attrs:{placeholder:"请选择经度",disabled:!0},model:{value:t.formData.lng,callback:function(e){t.$set(t.formData,"lng",e)},expression:"formData.lng"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"纬度",prop:"lat"}},[n("el-input",{attrs:{placeholder:"请选择纬度",disabled:!0},model:{value:t.formData.lat,callback:function(e){t.$set(t.formData,"lat",e)},expression:"formData.lat"}})],1)],1)],1)},staticRenderFns:[]};var D=n("VU/8")(w,y,!1,function(t){n("bPuw")},"data-v-0b97f6e7",null).exports,$=n("Zrlr"),x=n.n($),C=function t(e){var n=this;x()(this,t),this.$options=e,i.default.util.defineReactive(this,"current",window.location.hash.slice(1)||"/"),window.addEventListener("hashchange",function(){n.current=window.location.hash.slice(1)})};C.install=function(t){var e=t;e.mixin({beforeCreate:function(){this.$options.router&&(e.prototype.$router=this.$options.router)}}),e.component("router-link",{props:{to:{type:String,required:!0}},render:function(t){return t("a",{attrs:{href:"#"+this.to}},this.$slots.default)}}),e.component("router-view",{render:function(t){var e=this,n=null,i=this.$router.$options.routes.find(function(t){return t.path===e.$router.current});return i&&(n=i.component),t(n)}})};var L=C,M={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("\n    这是首页！！！！\n")])},staticRenderFns:[]},T=n("VU/8")({name:"home"},M,!1,null,null,null).exports;i.default.use(L);var F=new L({routes:[{path:"/",name:"home",component:T},{path:"/time-picker",name:"time-picker",component:u},{path:"/edit-table",name:"edit-table",component:k},{path:"/addForm",name:"addForm",component:f},{path:"/mapChose",name:"mapChose",component:D}]}),S={name:"App",components:{router:F}},V={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-link",{attrs:{to:"/"}},[t._v("首页")]),t._v(" "),n("router-link",{attrs:{to:"/time-picker"}},[t._v("时间组件")]),t._v(" "),n("router-link",{attrs:{to:"/edit-table"}},[t._v("可编辑表格")]),t._v(" "),n("router-link",{attrs:{to:"/addForm"}},[t._v("表单生成")]),t._v(" "),n("router-link",{attrs:{to:"/mapChose"}},[t._v("地图选择")]),t._v(" "),n("router-view")],1)},staticRenderFns:[]};var E=n("VU/8")(S,V,!1,function(t){n("/gb/")},null,null).exports,N=n("zL8q"),A=n.n(N);n("tvR6");i.default.config.productionTip=!1,i.default.use(A.a,{size:"medium"}),new i.default({el:"#app",router:F,components:{App:E},template:"<App/>"})},XkEj:function(t,e){},bPuw:function(t,e){},tvR6:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.310b7e824390c8101e6d.js.map